{"version":3,"file":"1.ad3f2cfd1bfabc25f88f.hot-update.js","sources":["webpack:///src/components/cabinetComponents/templateList.js?7823"],"sourcesContent":["import React, { Component, PropTypes } from 'react'\r\n\r\nexport default class TemplateList extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = this.getInitialState();\r\n        this.getTemplates(this);\r\n        \r\n\r\n    }\r\n\r\n    getTemplates(self) {\r\n        fetch('/api/templates',\r\n        {\r\n            method: 'GET',\r\n            credentials: \"same-origin\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(response => response.json())\r\n        .then(templates => {\r\n            self.setState((prevstate) => {\r\n                prevstate.templateList = templates;\r\n            })\r\n        })\r\n    }\r\n\r\n    getInitialState() {\r\n        return {\r\n            templateList: []\r\n        };\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.state.siteName = event.target.value;\r\n    }\r\n\r\n    editTemplate(templateName) {\r\n        localStorage.setItem(\"templateName\", templateName);\r\n        window.location.replace('templateEditor.html');\r\n    }\r\n\r\n    deleteTemplate(templateName) {\r\n        let self = this;\r\n        fetch('/api/templates/' + templateName,\r\n        {\r\n            method: 'DELETE',\r\n            credentials: \"same-origin\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(() => {\r\n            self.getTemplates(self);\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let templates = this.state.templateList.map( templateName => {\r\n            return (\r\n                <div className=\"container\">\r\n                    <p>\r\n                        <h3>{templateName}</h3>\r\n                    </p>\r\n                    <div className=\"btn-group\" role=\"group\" aria-label=\"...\">\r\n\r\n                        <button type=\"button\" className=\"btn\" \r\n                        onClick={this.editTemplate.bind(this, templateName)}>Edit</button>\r\n\r\n                        <button type=\"button\" className=\"btn\"\r\n                        onClick={this.deleteTemplate.bind(this, templateName)}>Delete</button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        })\r\n\r\n        return <div className=\"col-md-4 thumbnail\">\r\n        <h2>Шаблоны</h2>\r\n            {templates}\r\n        </div>\r\n        }\r\n}\n\n\n// WEBPACK FOOTER //\n// src/components/cabinetComponents/templateList.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;;;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;;;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAHA;AAOA;AAAA;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAHA;AAQA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AADA;AAAA;AAGA;AAAA;AAAA;AACA;AADA;AAAA;AALA;AAJA;AAcA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAIA;;;;;AAhFA;;;;A","sourceRoot":""}